(()=>{"use strict";[,function(){var e=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{u(s.next(e))}catch(e){i(e)}}function a(e){try{u(s.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}u((s=s.apply(e,t||[])).next())}))};function t(e){setTimeout((()=>{const n=document.querySelector("#statsig-debugger-data");if(n instanceof HTMLInputElement){const e=JSON.parse(n.value);n.remove(),console.log("Extracted Data",e);const t=(Math.random()+1).toString(36).substring(2);chrome.storage.local.set({values:Object.assign(Object.assign({debugID:t},e.userValues),{user:e.user})}).then((()=>{var n;const s=`https://console.statsig.com/client_sdk_debugger_redirect?sdkKey=${e.sdkKey}&debugID=${t}`;null===(n=window.open(s,`statsig-debugger-${t}`,"directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=400,height=600"))||void 0===n||n.focus()}))}else e>0&&t(e-1)}),100)}chrome.storage.local.get(["values"]).then((e=>{var t;if("string"!=typeof(null===(t=null==e?void 0:e.values)||void 0===t?void 0:t.debugID)||!location.search.includes(`debugID=${e.values.debugID}`))return;const{feature_gates:n,dynamic_configs:s,layer_configs:o,user:i}=e.values,r=document.createElement("input");r.value=JSON.stringify({gates:n,configs:s,layers:o,user:i}),r.id="__statsig_client_debugger_state__",r.type="hidden",document.body.appendChild(r)})),chrome.runtime.onMessage.addListener((n=>e(void 0,void 0,void 0,(function*(){var e;if("open_debugger"!==n.action)return;const s=chrome.runtime.getURL("js/inject.js");null===(e=document.querySelector("#statsig-debugger-injected"))||void 0===e||e.remove();const o=document.getElementsByTagName("body")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",s),i.setAttribute("id","statsig-debugger-injected"),i.setAttribute("data-id",chrome.runtime.id),o.appendChild(i),t(5)}))))}][1]()})();